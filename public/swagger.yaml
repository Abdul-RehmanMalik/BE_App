components:
    examples: {}
    headers: {}
    parameters: {}
    requestBodies: {}
    responses: {}
    schemas:
        TokenResponse:
            properties:
                id:
                    type: number
                    format: double
                    description: 'Access Token and Refresh Tokens'
                    example: someRandomCryptoString
                name:
                    type: string
                isActivated:
                    type: boolean
                tokens:
                    properties:
                        activationToken:
                            type: string
                        passwordResetToken:
                            type: string
                        refreshToken:
                            type: string
                        accessToken:
                            type: string
                    required:
                        - activationToken
                        - passwordResetToken
                        - refreshToken
                        - accessToken
                    type: object
            required:
                - id
                - name
                - isActivated
                - tokens
            type: object
            additionalProperties: false
        UserPayload:
            properties:
                name:
                    type: string
                    description: 'name for user'
                    example: 'John Snow'
                email:
                    type: string
                    description: 'email for user'
                    example: johnSnow01@gmail.com
                password:
                    type: string
                    description: 'Password for user'
                address:
                    type: string
                    description: 'address for user'
                    example: 'H#123 Block 2 Sector J, Abc Town, NY'
            required:
                - name
                - email
                - password
                - address
            type: object
            additionalProperties: false
        UserDetailsResponse:
            properties:
                email:
                    type: string
                name:
                    type: string
                address:
                    type: string
            required:
                - email
                - name
                - address
            type: object
            additionalProperties: false
        UserSearchResponse:
            properties:
                users:
                    items:
                        $ref: '#/components/schemas/UserDetailsResponse'
                    type: array
            required:
                - users
            type: object
            additionalProperties: false
        SessionResponse:
            properties:
                id:
                    type: number
                    format: double
                name:
                    type: string
                isActivated:
                    type: boolean
                profilePicture:
                    type: string
            required:
                - id
                - name
                - isActivated
                - profilePicture
            type: object
            additionalProperties: false
        mongoose.Types.ObjectId:
            type: string
        CommentResponse:
            properties:
                cid:
                    type: number
                    format: double
                    description: 'Comment ID'
                    example: 1
                commentedBy:
                    $ref: '#/components/schemas/mongoose.Types.ObjectId'
                    description: 'User who made the comment'
                text:
                    type: string
                    description: 'Comment text'
                    example: 'This is a comment'
            required:
                - cid
                - commentedBy
                - text
            type: object
            additionalProperties: false
        PostResponse:
            properties:
                pid:
                    type: number
                    format: double
                    description: 'Post ID'
                    example: 1
                title:
                    type: string
                    description: 'Post title'
                    example: 'Title of the post'
                description:
                    type: string
                    description: 'Post description'
                    example: 'Description of the post'
                likes:
                    items:
                        type: number
                        format: double
                    type: array
                    description: 'Array of user IDs who liked the post'
                    example:
                        - 1
                        - 2
                        - 3
                comments:
                    items:
                        $ref: '#/components/schemas/CommentResponse'
                    type: array
                    description: 'Array of comments on the post'
                postedBy:
                    $ref: '#/components/schemas/mongoose.Types.ObjectId'
            required:
                - pid
                - title
                - description
                - likes
                - comments
                - postedBy
            type: object
            additionalProperties: false
        PostComment:
            properties:
                cid:
                    type: number
                    format: double
                commentedBy:
                    $ref: '#/components/schemas/mongoose.Types.ObjectId'
                text:
                    type: string
            required:
                - cid
                - commentedBy
                - text
            type: object
            additionalProperties: false
        PostPayload:
            properties:
                title:
                    type: string
                    description: 'title of post'
                    example: ""
                description:
                    type: string
                    description: 'description of post'
                    example: ""
                postedBy:
                    $ref: '#/components/schemas/mongoose.Types.ObjectId'
                    description: postedBy
                images:
                    items:
                        type: string
                    type: array
                    description: Image
                    example: ""
                comments:
                    items:
                        $ref: '#/components/schemas/PostComment'
                    type: array
                cost:
                    type: number
                    format: double
                heritage:
                    type: string
                placesToVisit:
                    items:
                        type: string
                    type: array
                communityAccess:
                    type: string
                easeOfTransportation:
                    type: string
                safety:
                    type: string
                location:
                    type: string
            required:
                - title
                - description
                - postedBy
                - cost
                - location
            type: object
            additionalProperties: false
        getPostResponse:
            properties:
                pid:
                    type: number
                    format: double
                title:
                    type: string
                description:
                    type: string
                images:
                    items:
                        type: string
                    type: array
                postedBy:
                    properties:
                        profilePicture:
                            type: string
                        name:
                            type: string
                        id:
                            type: number
                            format: double
                        _id:
                            type: string
                    required:
                        - profilePicture
                        - name
                        - id
                        - _id
                    type: object
            required:
                - pid
                - title
                - description
                - postedBy
            type: object
            additionalProperties: false
        paginationResponse:
            properties:
                page:
                    type: number
                    format: double
                limit:
                    type: number
                    format: double
                totalPages:
                    type: number
                    format: double
                totalPosts:
                    type: number
                    format: double
                data:
                    items:
                        $ref: '#/components/schemas/getPostResponse'
                    type: array
            required:
                - page
                - limit
                - totalPages
                - totalPosts
                - data
            type: object
            additionalProperties: false
        getCommentResponse:
            properties:
                cid:
                    type: number
                    format: double
                commentedBy:
                    properties:
                        profilePicture:
                            type: string
                        name:
                            type: string
                        id:
                            type: number
                            format: double
                    required:
                        - profilePicture
                        - name
                        - id
                    type: object
                text:
                    type: string
            required:
                - cid
                - commentedBy
                - text
            type: object
            additionalProperties: false
    securitySchemes:
        bearerAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
info:
    title: express-ts
    version: 1.0.0
    license:
        name: ISC
    contact: {}
openapi: 3.0.0
paths:
    /auth/signup:
        post:
            operationId: SignUp
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/TokenResponse'}
                                    - {type: string}
                            examples:
                                'Example 1':
                                    value: {name: 'John Snow', email: johnSnow01@gmail.com, address: 'H#123 Block 2 Sector J, Abc Town, NY'}
            summary: 'Create user with the following attributes: email, Name, Password, address.'
            tags:
                - Auth
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UserPayload'
    /auth/login:
        post:
            operationId: Login
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/TokenResponse'}
                                    - {type: string}
                            examples:
                                'Example 1':
                                    value: {id: 0, name: Johny, isActivated: false, tokens: {accessToken: someRandomCryptoString, refreshToken: someRandomCryptoString, passwordResetToken: someRandomCryptoString, activationToken: someRandomCryptoString}}
            summary: 'logs user in and returns access token'
            tags:
                - Auth
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                password:
                                    type: string
                                email:
                                    type: string
                            required:
                                - password
                                - email
                            type: object
    /auth/logout:
        get:
            operationId: Logout
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                type: string
            summary: 'Verify and Removes JWT tokens and returns success message'
            tags:
                - Auth
            security:
                -
                    bearerAuth: []
            parameters: []
    /auth/activate:
        post:
            operationId: ActivateUser
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/TokenResponse'}
                                    - {type: string}
            summary: 'Verify and Removes JWT activationToken and returns success message'
            tags:
                - Auth
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                token:
                                    type: string
                                id:
                                    type: string
                            required:
                                - token
                                - id
                            type: object
    /auth/forgotpassword:
        post:
            operationId: ForgotPassword
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/TokenResponse'}
                                    - {type: string}
                            examples:
                                'Example 1':
                                    value: {id: 0, name: Johny, isActivated: false, tokens: {accessToken: someRandomCryptoString, refreshToken: someRandomCryptoString, passwordResetToken: someRandomCryptoString, activationToken: someRandomCryptoString}}
            summary: 'sends a mail to user for password reset'
            tags:
                - Auth
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                email:
                                    type: string
                            required:
                                - email
                            type: object
    /auth/resendpasswordtoken:
        post:
            operationId: ResendPasswordToken
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/TokenResponse'}
                                    - {type: string}
            tags:
                - Auth
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                email:
                                    type: string
                            required:
                                - email
                            type: object
    /auth/resetpassword:
        post:
            operationId: ResetPassword
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                type: string
            tags:
                - Auth
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                token:
                                    type: string
                                id:
                                    type: string
                                password:
                                    type: string
                            required:
                                - token
                                - id
                                - password
                            type: object
    '/user/{name}':
        get:
            operationId: GetUser
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UserDetailsResponse'
                            examples:
                                'Example 1':
                                    value: {name: 'John Snow', email: johnSnow01@gmail.com, address: 'H#123 Block 2 Sector J, Abc Town, NY'}
            summary: 'Get user properties - such as name, email and address.'
            tags:
                - User
            security: []
            parameters:
                -
                    description: 'The User''s name'
                    in: path
                    name: name
                    required: true
                    schema:
                        type: string
                    example: johnSnow01
    /user/search:
        post:
            operationId: SearchUser
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/UserSearchResponse'
            tags:
                - User
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                query:
                                    type: string
                            required:
                                - query
                            type: object
    /user/updateprofilepic:
        put:
            operationId: UpdateProfilePic
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                type: string
            tags:
                - User
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    type: number
                                    format: double
                            required:
                                - id
                            type: object
    /session:
        get:
            operationId: Session
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/SessionResponse'
                            examples:
                                'Example 1':
                                    value: {id: 123, name: johnusername, isActivated: false}
            summary: 'Get session info.'
            tags:
                - Session
            security:
                -
                    bearerAuth: []
            parameters: []
    /posts/createpost:
        post:
            operationId: CreatePost
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/PostResponse'}
                                    - {type: string}
            tags:
                - Post
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/PostPayload'
    /posts/like:
        put:
            operationId: LikePost
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                anyOf:
                                    - {$ref: '#/components/schemas/PostResponse'}
                                    - {type: string}
            tags:
                - Post
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                userId:
                                    type: number
                                    format: double
                                pid:
                                    type: number
                                    format: double
                            required:
                                - userId
                                - pid
                            type: object
    /posts/search:
        post:
            operationId: Search
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                items:
                                    $ref: '#/components/schemas/getPostResponse'
                                type: array
            tags:
                - Post
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                query:
                                    type: string
                            required:
                                - query
                            type: object
    /posts/getall:
        get:
            operationId: GetAllPosts
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/paginationResponse'
            tags:
                - Post
            security: []
            parameters: []
    /posts/getuserposts:
        get:
            operationId: FindPostsByUserId
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                items:
                                    $ref: '#/components/schemas/getPostResponse'
                                type: array
            tags:
                - Post
            security: []
            parameters:
                -
                    in: query
                    name: userId
                    required: true
                    schema:
                        format: double
                        type: number
    /posts/addComment:
        post:
            operationId: AddComment
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CommentResponse'
            tags:
                - Post
            security: []
            parameters: []
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                userId:
                                    type: number
                                    format: double
                                text:
                                    type: string
                                pid:
                                    type: number
                                    format: double
                            required:
                                - userId
                                - text
                                - pid
                            type: object
    /posts/getcomments:
        get:
            operationId: GetComments
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                items:
                                    $ref: '#/components/schemas/getCommentResponse'
                                type: array
            tags:
                - Post
            security: []
            parameters:
                -
                    in: query
                    name: postId
                    required: true
                    schema:
                        format: double
                        type: number
    '/posts/deletecomment/{cid}':
        delete:
            operationId: DeleteComment
            responses:
                '204':
                    description: 'No content'
            tags:
                - Post
            security: []
            parameters:
                -
                    in: path
                    name: cid
                    required: true
                    schema:
                        format: double
                        type: number
    '/posts/editcomment/{cid}':
        put:
            operationId: EditComment
            responses:
                '200':
                    description: Ok
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CommentResponse'
            tags:
                - Post
            security: []
            parameters:
                -
                    in: path
                    name: cid
                    required: true
                    schema:
                        format: double
                        type: number
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            properties:
                                text:
                                    type: string
                            required:
                                - text
                            type: object
servers:
    -
        url: /
tags:
    -
        name: Auth
        description: 'Operations about auth'
    -
        name: User
        description: 'Operations with users'
